window.__require=function t(e,o,n){function r(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({BuffManager:[function(t,e,o){"use strict";cc._RF.push(e,"04df1ET88pDOZ7AKha8WDG8","BuffManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./CustomEvent"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buffNodes=[],e.startPos=new cc.Vec2(0,1080),e.percent=0,e}return n(e,t),e.prototype.onLoad=function(){this.node.on(s.default.CustomEvent_GameStart,this.GameStartCallBack,this),this.node.on(s.default.CustomEvent_GameOver,this.GameOverCallBack,this)},e.prototype.onTimerCreateBuff=function(){this.CreateBuff()},e.prototype.CreateBuff=function(){this.percent=10*Math.random(),this.percent<5&&(this.buff=this.buffNodes[Math.floor(this.percent)],this.buff.active=!0,this.buff.x=0,this.buff.y=1080)},e.prototype.GameStartCallBack=function(){this.schedule(this.onTimerCreateBuff,5),this.SendCustomEventToChildren(s.default.CustomEvent_GameStart)},e.prototype.GameOverCallBack=function(){this.unschedule(this.onTimerCreateBuff),this.SendCustomEventToChildren(s.default.CustomEvent_GameOver)},e.prototype.SendCustomEventToChildren=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=0,r=this.node.children.concat();n<r.length;n++){r[n].emit(t,e)}},r([c([cc.Node])],e.prototype,"buffNodes",void 0),r([c(cc.Node)],e.prototype,"buff",void 0),e=r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./CustomEvent":"CustomEvent"}],Buff:[function(t,e,o){"use strict";cc._RF.push(e,"338e9cwASFAgLo50BngGv6g","Buff");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./CustomEvent"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BUFF="",e.moveSpeedX=100,e.moveSpeedY=100,e.dirX=0,e.dirY=-1,e.x_min=0,e.x_max=0,e.y_min=0,e.y_max=0,e}return n(e,t),e.prototype.onLoad=function(){this.node.on(s.default.CustomEvent_GameStart,this.GameStartCallBack,this),this.node.on(s.default.CustomEvent_GameOver,this.GameOverCallBack,this),this.x_min=-this.node.parent.parent.width/2+this.node.height/2,this.x_max=Math.abs(this.x_min),this.y_min=-this.node.parent.parent.height/2+this.node.height/2,this.getComponent(cc.Collider).name=this.BUFF},e.prototype.onEnable=function(){var t=Math.random();this.dirX=t>=.5?-1:1},e.prototype.update=function(t){this.node.y+=this.moveSpeedY*t*this.dirY,this.node.x+=this.moveSpeedX*t*this.dirX,this.moveSpeedY=100*(Math.random()+.5),(this.node.x<=this.x_min||this.node.x>=this.x_max)&&(this.dirX=-this.dirX),this.node.y<=this.y_min&&(this.node.active=!1)},e.prototype.onCollisionEnter=function(t,e){"Player"==t.name&&(this.node.active=!1)},e.prototype.GameStartCallBack=function(){this.node.active=!1},e.prototype.GameOverCallBack=function(){this.node.active=!1},r([c],e.prototype,"BUFF",void 0),r([c],e.prototype,"moveSpeedX",void 0),r([c],e.prototype,"moveSpeedY",void 0),r([c],e.prototype,"dirX",void 0),r([c],e.prototype,"dirY",void 0),e=r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./CustomEvent":"CustomEvent"}],BulletManager:[function(t,e,o){"use strict";cc._RF.push(e,"8ba94uCDJlFz7ol2DKZq95v","BulletManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./CustomEvent"),u=t("./GameManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BulletPool=null,e.BulletPrefeb=null,e.b_count=1,e}return n(e,t),e.prototype.onLoad=function(){if(this.node.on(s.default.CustomEvent_GameStart,this.StartGameCallBack,this),this.node.on(s.default.CustomEvent_GameOver,this.OverGameCallBack,this),null==this.BulletPool&&(this.BulletPool=new cc.NodePool("BulletManager")),this.BulletPrefeb)for(var t=0;t<100;t++){var e=cc.instantiate(this.BulletPrefeb);this.BulletPool.put(e)}},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.SendCustomEventToChildren=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=0,r=this.node.children.concat();n<r.length;n++){r[n].emit(t,e)}},e.prototype.CreateBullets=function(t,e){switch(t){case 1:this.CreatOneBullet(0,e);break;case 2:this.CreatOneBullet(-30,e),this.CreatOneBullet(30,e);break;case 3:this.CreatOneBullet(0,e),this.CreatOneBullet(-60,e),this.CreatOneBullet(60,e);break;case 4:this.CreatOneBullet(15,e),this.CreatOneBullet(-15,e),this.CreatOneBullet(-40,e),this.CreatOneBullet(40,e);break;case 5:this.CreatOneBullet(0,e),this.CreatOneBullet(-30,e),this.CreatOneBullet(30,e),this.CreatOneBullet(-60,e),this.CreatOneBullet(60,e);break;case 10:this.CreatOneBullet(-5,e),this.CreatOneBullet(5,e),this.CreatOneBullet(-25,e),this.CreatOneBullet(25,e),this.CreatOneBullet(-50,e),this.CreatOneBullet(50,e),this.CreatOneBullet(-70,e),this.CreatOneBullet(70,e),this.CreatOneBullet(-95,e),this.CreatOneBullet(95,e)}},e.prototype.CreatOneBullet=function(t,e){var o=null;(o=this.BulletPool.size()>0?this.BulletPool.get(this.BulletPool):cc.instantiate(this.BulletPrefeb)).parent=this.node;var n=e.convertToWorldSpaceAR(cc.Vec2.ZERO),r=this.node.convertToNodeSpaceAR(n);o.getComponent(cc.Sprite).spriteFrame=u.default.GameManager.BulletSpriteFrame,o.scale=u.default.GameManager.BulletScale,o.x=r.x+t,o.y=r.y+50},e.prototype.StartGameCallBack=function(){this.SendCustomEventToChildren(s.default.CustomEvent_Destory)},e.prototype.OverGameCallBack=function(){this.SendCustomEventToChildren(s.default.CustomEvent_Destory)},r([c(cc.NodePool)],e.prototype,"BulletPool",void 0),r([c(cc.Prefab)],e.prototype,"BulletPrefeb",void 0),r([c],e.prototype,"b_count",void 0),e=r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./CustomEvent":"CustomEvent","./GameManager":"GameManager"}],Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"09071+RISFNmZLv+3NNDwjc","Bullet");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./CustomEvent"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.moveSpeed=100,e.pool=null,e}return n(e,t),e.prototype.onLoad=function(){this.reuse(this.node.parent.getComponent("BulletManager").BulletPool),this.getComponent(cc.Collider).name="Bullet"},e.prototype.onEnable=function(){this.node.on(s.default.CustomEvent_Destory,this.DestoryCallBack,this)},e.prototype.update=function(t){this.node.y+=t*this.moveSpeed,this.node.convertToWorldSpaceAR(cc.Vec2.ZERO).y>=cc.winSize.height&&this.destorySelf()},e.prototype.reuse=function(t){this.pool=t},e.prototype.onCollisionEnter=function(t,e){"Enemy"==t.name&&this.destorySelf()},e.prototype.onDisable=function(){this.node.targetOff(this)},e.prototype.destorySelf=function(){this.pool?this.pool.put(this.node):this.node.destroy()},e.prototype.DestoryCallBack=function(){this.destorySelf()},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"moveSpeed",void 0),e=r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./CustomEvent":"CustomEvent"}],ChangePlane:[function(t,e,o){"use strict";cc._RF.push(e,"8d207MW3tNJPoSCGLpv2HdM","ChangePlane");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./GameManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.planeSpriteFrames=[],e.curSprite_index=0,e}return n(e,t),e.prototype.onLoad=function(){this.node.getComponent(cc.Sprite).spriteFrame=this.planeSpriteFrames[0],this.curSpriteFrame=this.planeSpriteFrames[0],s.default.GameManager.planeSpriteFrame=this.curSpriteFrame},e.prototype.ChangePlaneBtn=function(t,e){this.curSprite_index++,this.curSprite_index>5&&(this.curSprite_index=0),this.node.getComponent(cc.Sprite).spriteFrame=this.planeSpriteFrames[this.curSprite_index],this.curSpriteFrame=this.planeSpriteFrames[this.curSprite_index],s.default.GameManager.planeSpriteFrame=this.curSpriteFrame},r([c([cc.SpriteFrame])],e.prototype,"planeSpriteFrames",void 0),e=r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./GameManager":"GameManager"}],CustomEvent:[function(t,e,o){"use strict";cc._RF.push(e,"7f337PHXrZAMbm3BEW20503","CustomEvent");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.CustomEvent_EnemyDeath="CustomEvent_EnemyDeath",e.CustomEvent_GameStart="CustomEvent_GameStart ",e.CustomEvent_GameOver="CustomEvent_GameOver",e.CustomEvent_Destory="CustomEvent_Destory",e.CustomEvent_ChangePlane="CustomEvent_ChangePlane",e.CustomEvent_CreateBuff="CustomEvent_CreateBuff",e.CustomEvent_GetBuff="CustomEvent_GetBuff",e.CustomEvent_RecycleBuff="CustomEvent_RecycleBuff",e=r([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],EnemyManager:[function(t,e,o){"use strict";cc._RF.push(e,"6f9b2hivSdO8Zp3uCBdMX/M","EnemyManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./CustomEvent"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EnemyPool=null,e.EnemyPrefeb=null,e.Plane=null,e.e_count=1,e.enemySpriteFrame=[],e}return n(e,t),e.prototype.onLoad=function(){if(this.node.on(s.default.CustomEvent_GameStart,this.StartGameCallBack,this),this.node.on(s.default.CustomEvent_GameOver,this.OverGameCallBack,this),null==this.EnemyPool&&(this.EnemyPool=new cc.NodePool("EnemyManager")),this.EnemyPrefeb)for(var t=0;t<150;t++){var e=cc.instantiate(this.EnemyPrefeb);this.EnemyPool.put(e)}this.schedule(this.onTimerCreateEnemy,1,15)},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),this.node.targetOff(this)},e.prototype.SendCustomEventToChildren=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=0,r=this.node.children.concat();n<r.length;n++){r[n].emit(t,e)}},e.prototype.onTimerCreateEnemy=function(){this.CreateEnemys(this.e_count)},e.prototype.CreateEnemys=function(t){switch(t){case 1:this.CreatOneEnemy(0);break;case 2:this.CreatOneEnemy(-30),this.CreatOneEnemy(30);break;case 3:this.CreatOneEnemy(0),this.CreatOneEnemy(-60),this.CreatOneEnemy(60)}},e.prototype.CreatOneEnemy=function(t){var e=null;(e=this.EnemyPool.size()>0?this.EnemyPool.get(this.EnemyPool):cc.instantiate(this.EnemyPrefeb)).parent=this.node,e.x=0,e.y=1080,e.getComponent(cc.Sprite).spriteFrame=this.enemySpriteFrame[Math.round(10*Math.random())]},e.prototype.StartGameCallBack=function(){this.unschedule(this.onTimerCreateEnemy),this.SendCustomEventToChildren(s.default.CustomEvent_Destory),this.schedule(this.onTimerCreateEnemy,3)},e.prototype.OverGameCallBack=function(){this.unschedule(this.onTimerCreateEnemy),this.SendCustomEventToChildren(s.default.CustomEvent_Destory),this.schedule(this.onTimerCreateEnemy,1,15)},r([c(cc.NodePool)],e.prototype,"EnemyPool",void 0),r([c(cc.Prefab)],e.prototype,"EnemyPrefeb",void 0),r([c(cc.Node)],e.prototype,"Plane",void 0),r([c],e.prototype,"e_count",void 0),r([c([cc.SpriteFrame])],e.prototype,"enemySpriteFrame",void 0),e=r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./CustomEvent":"CustomEvent"}],Enemy:[function(t,e,o){"use strict";cc._RF.push(e,"37e8ccqYo5DZrGoiqQgdeAd","Enemy");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./CustomEvent"),u=t("./GameManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseBulletSpriteFrame=null,e.moveSpeedX=100,e.moveSpeedY=100,e.dirX=0,e.dirY=-1,e.hp=0,e.x_min=0,e.x_max=0,e.y_min=0,e.y_max=0,e.pool=null,e}return n(e,t),e.prototype.onLoad=function(){this.reuse(this.node.parent.getComponent("EnemyManager").EnemyPool),this.getComponent(cc.Collider).name="Enemy"},e.prototype.onEnable=function(){this.node.on(s.default.CustomEvent_Destory,this.DestoryCallBack,this);var t=Math.random();this.dirX=t>=.5?-1:1,this.hp=u.default.GameManager.level*(Math.round(15*Math.random())+3),this.x_min=-this.node.parent.parent.width/2+this.node.height/2,this.x_max=Math.abs(this.x_min),this.y_min=-this.node.parent.parent.height/2+this.node.height/2,this.y_max=Math.abs(this.y_min)},e.prototype.update=function(t){this.node.y+=this.moveSpeedY*t*this.dirY,this.node.x+=this.moveSpeedX*t*this.dirX,this.moveSpeedY=100*(Math.random()+.5),this.UpdateHP(),(this.node.x<=this.x_min||this.node.x>=this.x_max)&&(this.dirX=-this.dirX),(this.node.y<=this.y_min||this.node.y>=this.y_max&&this.dirY>0)&&(this.dirY=-this.dirY)},e.prototype.reuse=function(t){this.pool=t},e.prototype.destorySelf=function(t){void 0===t&&(t=!1),this.pool?this.pool.put(this.node):this.node.destroy(),0==t&&u.default.GameManager.EnemyDeath()},e.prototype.onCollisionEnter=function(t,e){"Bullet"==t.name&&(this.hp--,this.UpdateHP(),0==this.hp&&this.destorySelf(),t.getComponent(cc.Sprite).spriteFrame!=this.baseBulletSpriteFrame&&(this.hp--,this.UpdateHP(),0==this.hp&&this.destorySelf()))},e.prototype.UpdateHP=function(){this.hpLabel.string=""+this.hp},e.prototype.DestoryCallBack=function(){this.destorySelf(!0)},e.prototype.onDisable=function(){this.node.targetOff(this)},r([c(cc.SpriteFrame)],e.prototype,"baseBulletSpriteFrame",void 0),r([c],e.prototype,"moveSpeedX",void 0),r([c],e.prototype,"moveSpeedY",void 0),r([c],e.prototype,"dirX",void 0),r([c],e.prototype,"dirY",void 0),r([c],e.prototype,"hp",void 0),r([c(cc.Label)],e.prototype,"hpLabel",void 0),e=r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./CustomEvent":"CustomEvent","./GameManager":"GameManager"}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"63939CpnBNMU6C87Ya3engv","GameManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./CustomEvent"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.RegisterCustomEventNodes=[],e.PlanePrefb=null,e.StartClip=null,e.OverClip=null,e.EnemyDeathClip=null,e.MusicMuteState=!1,e.BulletSpriteFrame=null,e.Bullet_count=1,e.BulletScale=1,e.isPlaying=!1,e.aliveTime=0,e.level=1,e}var o;return n(e,t),o=e,e.prototype.AliveUpdateSchedule=function(){this.aliveTime++,this.updateAliveTime()},e.prototype.updateAliveTime=function(){this.level<Math.ceil(this.aliveTime/30)&&this.level++},e.prototype.onLoad=function(){o.GameManager=this,cc.director.getCollisionManager().enabled=!1},e.prototype.EnemyDeath=function(){this.MusicMuteState||cc.audioEngine.play(this.EnemyDeathClip,!1,1),this.SendCustomEvent(s.default.CustomEvent_EnemyDeath)},e.prototype.IsPlaying=function(){return this.isPlaying},e.prototype.StartGame=function(){cc.director.getCollisionManager().enabled=!0;var t=cc.instantiate(this.PlanePrefb);this.MusicMuteState||cc.audioEngine.play(this.StartClip,!1,1),t.parent=this.node.parent,t.getComponent(cc.Sprite).spriteFrame=this.planeSpriteFrame,this.SendCustomEvent(s.default.CustomEvent_GameStart),this.schedule(this.AliveUpdateSchedule,1)},e.prototype.OverGame=function(){cc.director.getCollisionManager().enabled=!1,this.MusicMuteState||cc.audioEngine.play(this.OverClip,!1,1),this.SendCustomEvent(s.default.CustomEvent_GameOver),this.level=1,this.aliveTime=0,this.unschedule(this.AliveUpdateSchedule)},e.prototype.SendCustomEvent=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=0,r=this.RegisterCustomEventNodes;n<r.length;n++){r[n].emit(t,e)}},e.GameManager=null,r([c([cc.Node])],e.prototype,"RegisterCustomEventNodes",void 0),r([c(cc.SpriteFrame)],e.prototype,"planeSpriteFrame",void 0),r([c(cc.Prefab)],e.prototype,"PlanePrefb",void 0),r([c(cc.AudioClip)],e.prototype,"StartClip",void 0),r([c(cc.AudioClip)],e.prototype,"OverClip",void 0),r([c(cc.AudioClip)],e.prototype,"EnemyDeathClip",void 0),r([c(cc.SpriteFrame)],e.prototype,"BulletSpriteFrame",void 0),e=o=r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./CustomEvent":"CustomEvent"}],MusicCtrlButtons:[function(t,e,o){"use strict";cc._RF.push(e,"7ba0bxdbT1MyZKEkReOUqqE","MusicCtrlButtons");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./GameManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.muteState=!1,e.BGMClip=null,e.BGMMuteButtonLabel=null,e.MusicMuteButtonLabel=null,e.BGMMuteState=!0,e.BGMClipID=0,e}return n(e,t),e.prototype.onLoad=function(){this.BGMMuteState||(this.BGMClipID=cc.audioEngine.play(this.BGMClip,!0,.7))},e.prototype.BGMCtrl=function(t,e){this.BGMMuteState=!this.BGMMuteState,this.BGMMuteState?(cc.audioEngine.stop(this.BGMClipID),this.BGMMuteButtonLabel.string="\u6253\u5f00\u80cc\u666f\u97f3\u4e50"):(this.BGMClipID=cc.audioEngine.play(this.BGMClip,!0,.5),this.BGMMuteButtonLabel.string="\u5173\u95ed\u80cc\u666f\u97f3\u4e50")},e.prototype.MusicCtrl=function(t,e){"\u6253\u5f00\u6e38\u620f\u97f3\u6548"==this.MusicMuteButtonLabel.string?this.MusicMuteButtonLabel.string="\u5173\u95ed\u6e38\u620f\u97f3\u6548":"\u5173\u95ed\u6e38\u620f\u97f3\u6548"==this.MusicMuteButtonLabel.string&&(this.MusicMuteButtonLabel.string="\u6253\u5f00\u6e38\u620f\u97f3\u6548"),s.default.GameManager.MusicMuteState=!s.default.GameManager.MusicMuteState},r([c],e.prototype,"muteState",void 0),r([c(cc.AudioClip)],e.prototype,"BGMClip",void 0),r([c(cc.Label)],e.prototype,"BGMMuteButtonLabel",void 0),r([c(cc.Label)],e.prototype,"MusicMuteButtonLabel",void 0),e=r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./GameManager":"GameManager"}],PlaneCtrller:[function(t,e,o){"use strict";cc._RF.push(e,"6fcd5v1knVLlJ9jTp6Mk5o7","PlaneCtrller");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./BulletManager"),u=t("./GameManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShow=!1,e.BManager=null,e.BulletManager=null,e.b_count=1,e}return n(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onDrag,this),this.getComponent(cc.Collider).name="Player",this.isShow?this.BulletManager=this.BManager.getComponent(s.default):this.BulletManager=this.node.parent.getChildByName("Bullet Manager").getComponent(s.default)},e.prototype.start=function(){this.schedule(this.onTimerCreateBullet,.3)},e.prototype.onDrag=function(t){if(!this.isShow){var e=-this.node.parent.width/2+this.node.height/2,o=Math.abs(e),n=-this.node.parent.height/2+this.node.height/2,r=Math.abs(n);this.node.x+=t.getDelta().x,this.node.y+=t.getDelta().y,this.node.x<=e&&(this.node.x=e),this.node.y<=n&&(this.node.y=n),this.node.x>=o&&(this.node.x=o),this.node.y>=r&&(this.node.y=r)}},e.prototype.onCollisionEnter=function(t,e){"Enemy"==t.name&&(this.node.destroy(),this.ResetBulletSpriteFrame(),u.default.GameManager.OverGame()),"TenCount"==t.name&&(u.default.GameManager.BulletSpriteFrame=t.node.getComponent(cc.Sprite).spriteFrame,this.unschedule(this.onTimerCreateBullet),this.schedule(this.onTimerBuffCreateBullet,.1,25),this.scheduleOnce(this.ResetBulletSpriteFrame,3),this.schedule(this.onTimerCreateBullet,.3)),"bigger"==t.name&&(u.default.GameManager.BulletSpriteFrame=t.node.getComponent(cc.Sprite).spriteFrame,u.default.GameManager.BulletScale=1.3+Math.random(),this.scheduleOnce(this.ResetBulletSpriteFrame,5))},e.prototype.ResetBulletSpriteFrame=function(){u.default.GameManager.BulletSpriteFrame=this.bulletSpriteFrame,u.default.GameManager.BulletScale=1},e.prototype.onTimerCreateBullet=function(){this.isShow||u.default.GameManager.MusicMuteState||cc.audioEngine.play(this.ShootClip,!1,1),this.b_count=u.default.GameManager.level,this.b_count>5&&(this.b_count=10),this.BulletManager.CreateBullets(this.b_count,this.node)},e.prototype.onTimerBuffCreateBullet=function(){this.isShow||u.default.GameManager.MusicMuteState||cc.audioEngine.play(this.ShootClip,!1,1),this.BulletManager.CreateBullets(10,this.node)},r([c],e.prototype,"isShow",void 0),r([c(cc.Node)],e.prototype,"BManager",void 0),r([c],e.prototype,"BulletManager",void 0),r([c(cc.AudioClip)],e.prototype,"ShootClip",void 0),r([c(cc.SpriteFrame)],e.prototype,"bulletSpriteFrame",void 0),e=r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./BulletManager":"BulletManager","./GameManager":"GameManager"}],ScoreManager:[function(t,e,o){"use strict";cc._RF.push(e,"a37daaHlJFIOoBNLW63SB1i","ScoreManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./CustomEvent"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.score=0,e.bestScore=0,e.bestScoreLabel=null,e.bestNameLabel=null,e.nameEditer=null,e.name="",e}return n(e,t),e.prototype.onLoad=function(){this.node.on(s.default.CustomEvent_EnemyDeath,this.EnemyDeathCallBack,this),this.node.on(s.default.CustomEvent_GameStart,this.StartGameCallBack,this),this.node.on(s.default.CustomEvent_GameOver,this.OverGameCallBack,this)},e.prototype.start=function(){this.name=cc.sys.localStorage.getItem("BestName"),this.bestNameLabel.string=this.name,this.bestScore=cc.sys.localStorage.getItem("BestScore"),this.bestScoreLabel.string=""+this.bestScore,this.score=0,this.updateScore(0)},e.prototype.onDestroy=function(){this.node.targetOff(this.node)},e.prototype.EnemyDeathCallBack=function(){this.Add(1)},e.prototype.Add=function(t){this.updateScore(t),this.updateView()},e.prototype.updateScore=function(t){this.score+=t},e.prototype.updateView=function(){this.label.string=""+this.score},e.prototype.StartGameCallBack=function(){this.score=0,this.updateView()},e.prototype.OverGameCallBack=function(){this.score>this.bestScore&&""!=this.name&&(cc.sys.localStorage.setItem("BestName",this.name),this.bestScore=this.score,cc.sys.localStorage.setItem("BestScore",this.bestScore),this.bestNameLabel.string=this.name,this.bestScoreLabel.string=""+this.bestScore)},e.prototype.SetName=function(){this.name=this.nameEditer.string.trim()},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"score",void 0),r([c],e.prototype,"bestScore",void 0),r([c(cc.Label)],e.prototype,"bestScoreLabel",void 0),r([c(cc.Label)],e.prototype,"bestNameLabel",void 0),r([c(cc.EditBox)],e.prototype,"nameEditer",void 0),e=r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./CustomEvent":"CustomEvent"}],UIManager:[function(t,e,o){"use strict";cc._RF.push(e,"86751fONYRAwLCBCiymHk5G","UIManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=t("./CustomEvent"),u=t("./GameManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreNode=null,e.menuNode=null,e.StartBtnSprite=null,e.reStartBtnSpriteFrame=null,e}return n(e,t),e.prototype.onLoad=function(){this.node.on(s.default.CustomEvent_GameStart,this.StartGameCallBack,this),this.node.on(s.default.CustomEvent_GameOver,this.OverGameCallBack,this)},e.prototype.onDestroy=function(){this.node.targetOff(this)},e.prototype.start=function(){},e.prototype.StartGameBtn=function(t,e){this.scoreNode.active=!0,u.default.GameManager.StartGame()},e.prototype.StartGameCallBack=function(){this.menuNode.active=!1},e.prototype.OverGameCallBack=function(){this.menuNode.active=!0,this.StartBtnSprite.spriteFrame=this.reStartBtnSpriteFrame},r([c(cc.Node)],e.prototype,"scoreNode",void 0),r([c(cc.Node)],e.prototype,"menuNode",void 0),r([c(cc.Sprite)],e.prototype,"StartBtnSprite",void 0),r([c(cc.SpriteFrame)],e.prototype,"reStartBtnSpriteFrame",void 0),e=r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./CustomEvent":"CustomEvent","./GameManager":"GameManager"}],"use_v2.0.x_cc.Toggle_event":[function(t,e,o){"use strict";cc._RF.push(e,"a720aFSbZtLf44KGXBUnpqB","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["Buff","BuffManager","Bullet","BulletManager","ChangePlane","CustomEvent","Enemy","EnemyManager","GameManager","MusicCtrlButtons","PlaneCtrller","ScoreManager","UIManager","use_v2.0.x_cc.Toggle_event"]);